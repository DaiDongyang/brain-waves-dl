nohup: ignoring input
2018-01-19 18:49:17.096295: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.797
pciBusID: 0000:02:00.0
totalMemory: 7.92GiB freeMemory: 7.80GiB
2018-01-19 18:49:17.096349: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:02:00.0, compute capability: 6.1)
id_str = 'cnn_wav_0'

is_log_cfg = True

visible_device = '0'

batch_size = 256

loop_epoch_nums = [100, 100, 100, 100, 100]

learning_rates = [0.1, 0.05, 0.02, 0.01, 0.005]

log_epoch_num = 5

learning_rate = 0.05

loss_weights = [1, 1, 1]

dropout_probs = [1, 0.2, 0.5]

origin_d = 200

loss_type = 0

only_run_final_test = False

final_result_txt = 'result' + id_str + '.txt'

tvt_params_pickle_name = './pickles/tvt_params.pickle'

is_train = True

is_restore = False

restore_file = ''

restart_epoch_i = 0

persist_checkpoint_interval = 1000

persist_checkpoint_file = 'p-my-model/p-my-model' + id_str + '_'

gt_pickle = './pickles/gt_' + id_str + '.pickle'

pr_pickle = './pickles/pr_' + id_str + '.pickle'

classes = [1, 2, 3]

reduce_dim = 200

is_fft = False

fft_clip = -1

is_filter_vali = False

is_filter_test = False

norm_flag = 1

final_test_f = './origin_data/data_n/SC4161E0.npy'

prefix_n = './origin_data/data_n'

prefix_b_even = './origin_data/data_b_even'

prefix_b_odd = './origin_data/data_b_odd'

train_n = [

vali_n = ['SC4161E0.npy', 'SC4071E0.npy', ]

test_n = ['SC4081E0.npy', 'SC4121E0.npy', 'SC4162E0.npy', 'SC4032E0.npy', 'SC4072E0.npy', ]

train_b_even = []

vali_b_even = []

test_b_even = []

train_b_odd = []

vali_b_odd = []

test_b_odd = []

train_n_fs = [os.path.join(prefix_n, i) for i in train_n]

vali_n_fs = [os.path.join(prefix_n, i) for i in vali_n]

test_n_fs = [os.path.join(prefix_n, i) for i in test_n]

train_b_e_fs = [os.path.join(prefix_b_even, i) for i in train_b_even]

vali_b_e_fs = [os.path.join(prefix_b_even, i) for i in vali_b_even]

test_b_e_fs = [os.path.join(prefix_b_even, i) for i in test_b_even]

train_b_o_fs = [os.path.join(prefix_b_odd, i) for i in train_b_odd]

vali_b_o_fs = [os.path.join(prefix_b_odd, i) for i in vali_b_odd]

test_b_o_fs = [os.path.join(prefix_b_odd, i) for i in test_b_odd]

train_fs = train_n_fs + train_b_e_fs

vali_fs = vali_n_fs + vali_b_e_fs

test_fs = test_n_fs + test_b_e_fs

conv_fs = [[10, 1, 16], [10, 16, 32]]

conv_stride = 1

conv_padding = 'SAME'

cnn_pool_type = 1

cnn_pool_padding = 'SAME'

cnn_pool_ksize = [4]

cnn_pool_strides = [2]

rnn_seq_d = 25

rnn_units_list = []

rnn_is_bidirection = True

fc_w_shapes = [[int(200*32/4), 64], [64, 3]]

epoch 0 ; train_acc 0.745355 , train_loss 0.805259 ; vali_acc 0.710351 , vali_loss 0.885216
epoch 5 ; train_acc 0.747117 , train_loss 0.754516 ; vali_acc 0.707846 , vali_loss 0.823347
epoch 10 ; train_acc 0.755879 , train_loss 0.737061 ; vali_acc 0.715359 , vali_loss 0.810049
epoch 15 ; train_acc 0.777632 , train_loss 0.72024 ; vali_acc 0.749583 , vali_loss 0.800173
epoch 20 ; train_acc 0.77869 , train_loss 0.688155 ; vali_acc 0.72788 , vali_loss 0.770937
epoch 25 ; train_acc 0.778287 , train_loss 0.692069 ; vali_acc 0.725376 , vali_loss 0.767878
epoch 30 ; train_acc 0.789516 , train_loss 0.682405 ; vali_acc 0.744574 , vali_loss 0.757656
epoch 35 ; train_acc 0.789667 , train_loss 0.669023 ; vali_acc 0.739566 , vali_loss 0.742158
epoch 40 ; train_acc 0.798731 , train_loss 0.687584 ; vali_acc 0.752087 , vali_loss 0.760872
epoch 45 ; train_acc 0.796364 , train_loss 0.674558 ; vali_acc 0.745409 , vali_loss 0.754256
epoch 50 ; train_acc 0.800393 , train_loss 0.672072 ; vali_acc 0.752087 , vali_loss 0.741227
epoch 55 ; train_acc 0.802004 , train_loss 0.677325 ; vali_acc 0.747078 , vali_loss 0.744329
epoch 60 ; train_acc 0.801198 , train_loss 0.670831 ; vali_acc 0.749583 , vali_loss 0.747404
epoch 65 ; train_acc 0.797875 , train_loss 0.678462 ; vali_acc 0.740401 , vali_loss 0.745246
epoch 70 ; train_acc 0.799084 , train_loss 0.66703 ; vali_acc 0.740401 , vali_loss 0.742253
epoch 75 ; train_acc 0.808852 , train_loss 0.675842 ; vali_acc 0.755426 , vali_loss 0.755932
epoch 80 ; train_acc 0.802206 , train_loss 0.66642 ; vali_acc 0.742905 , vali_loss 0.743014
epoch 85 ; train_acc 0.807946 , train_loss 0.657965 ; vali_acc 0.753756 , vali_loss 0.730838
epoch 90 ; train_acc 0.802508 , train_loss 0.65232 ; vali_acc 0.739566 , vali_loss 0.729566
epoch 95 ; train_acc 0.807191 , train_loss 0.653005 ; vali_acc 0.747078 , vali_loss 0.739494
epoch 100 ; train_acc 0.81132 , train_loss 0.648667 ; vali_acc 0.747913 , vali_loss 0.729801
epoch 105 ; train_acc 0.816255 , train_loss 0.657101 ; vali_acc 0.757095 , vali_loss 0.736393
epoch 110 ; train_acc 0.816456 , train_loss 0.653588 ; vali_acc 0.749583 , vali_loss 0.73143
epoch 115 ; train_acc 0.818823 , train_loss 0.658723 ; vali_acc 0.755426 , vali_loss 0.733897
epoch 120 ; train_acc 0.818118 , train_loss 0.654808 ; vali_acc 0.755426 , vali_loss 0.73186
epoch 125 ; train_acc 0.816305 , train_loss 0.641273 ; vali_acc 0.752922 , vali_loss 0.723017
epoch 130 ; train_acc 0.816506 , train_loss 0.642593 ; vali_acc 0.748748 , vali_loss 0.724838
epoch 135 ; train_acc 0.820988 , train_loss 0.639708 ; vali_acc 0.760434 , vali_loss 0.721834
epoch 140 ; train_acc 0.819276 , train_loss 0.646606 ; vali_acc 0.75626 , vali_loss 0.728718
epoch 145 ; train_acc 0.821995 , train_loss 0.650502 ; vali_acc 0.762104 , vali_loss 0.731068
epoch 150 ; train_acc 0.820182 , train_loss 0.635395 ; vali_acc 0.753756 , vali_loss 0.720907
epoch 155 ; train_acc 0.824614 , train_loss 0.637763 ; vali_acc 0.757095 , vali_loss 0.724924
epoch 160 ; train_acc 0.818521 , train_loss 0.642626 ; vali_acc 0.748748 , vali_loss 0.723106
epoch 165 ; train_acc 0.823858 , train_loss 0.641224 ; vali_acc 0.755426 , vali_loss 0.728566
epoch 170 ; train_acc 0.8227 , train_loss 0.638704 ; vali_acc 0.747078 , vali_loss 0.724864
epoch 175 ; train_acc 0.826728 , train_loss 0.641034 ; vali_acc 0.767947 , vali_loss 0.733413
epoch 180 ; train_acc 0.827182 , train_loss 0.635313 ; vali_acc 0.751252 , vali_loss 0.72467
epoch 185 ; train_acc 0.826829 , train_loss 0.633144 ; vali_acc 0.764608 , vali_loss 0.720836
epoch 190 ; train_acc 0.829297 , train_loss 0.635196 ; vali_acc 0.75793 , vali_loss 0.726719
epoch 195 ; train_acc 0.830253 , train_loss 0.634305 ; vali_acc 0.760434 , vali_loss 0.726476
epoch 200 ; train_acc 0.830505 , train_loss 0.633357 ; vali_acc 0.755426 , vali_loss 0.728717
epoch 205 ; train_acc 0.832922 , train_loss 0.629949 ; vali_acc 0.766277 , vali_loss 0.721766
epoch 210 ; train_acc 0.83398 , train_loss 0.630579 ; vali_acc 0.760434 , vali_loss 0.72313
epoch 215 ; train_acc 0.832267 , train_loss 0.629232 ; vali_acc 0.757095 , vali_loss 0.720236
epoch 220 ; train_acc 0.833728 , train_loss 0.631817 ; vali_acc 0.760434 , vali_loss 0.723848
epoch 225 ; train_acc 0.834785 , train_loss 0.631237 ; vali_acc 0.765442 , vali_loss 0.723802
epoch 230 ; train_acc 0.835389 , train_loss 0.631101 ; vali_acc 0.764608 , vali_loss 0.725007
epoch 235 ; train_acc 0.833325 , train_loss 0.624499 ; vali_acc 0.760434 , vali_loss 0.719053
epoch 240 ; train_acc 0.834282 , train_loss 0.62825 ; vali_acc 0.75626 , vali_loss 0.721979
epoch 245 ; train_acc 0.835138 , train_loss 0.623899 ; vali_acc 0.757095 , vali_loss 0.719018
epoch 250 ; train_acc 0.834533 , train_loss 0.624969 ; vali_acc 0.757095 , vali_loss 0.717873
epoch 255 ; train_acc 0.83826 , train_loss 0.619996 ; vali_acc 0.762104 , vali_loss 0.718947
epoch 260 ; train_acc 0.836648 , train_loss 0.625379 ; vali_acc 0.761269 , vali_loss 0.720065
epoch 265 ; train_acc 0.833728 , train_loss 0.624648 ; vali_acc 0.755426 , vali_loss 0.717521
epoch 270 ; train_acc 0.835792 , train_loss 0.623748 ; vali_acc 0.762104 , vali_loss 0.717289
epoch 275 ; train_acc 0.837958 , train_loss 0.624538 ; vali_acc 0.759599 , vali_loss 0.720882
epoch 280 ; train_acc 0.838914 , train_loss 0.619505 ; vali_acc 0.758765 , vali_loss 0.717042
epoch 285 ; train_acc 0.84108 , train_loss 0.625632 ; vali_acc 0.763773 , vali_loss 0.724364
epoch 290 ; train_acc 0.83977 , train_loss 0.618285 ; vali_acc 0.767947 , vali_loss 0.715693
epoch 295 ; train_acc 0.839317 , train_loss 0.623124 ; vali_acc 0.766277 , vali_loss 0.723178
epoch 300 ; train_acc 0.841482 , train_loss 0.62017 ; vali_acc 0.768781 , vali_loss 0.720983
epoch 305 ; train_acc 0.842943 , train_loss 0.624708 ; vali_acc 0.767947 , vali_loss 0.722122
epoch 310 ; train_acc 0.842036 , train_loss 0.619606 ; vali_acc 0.767112 , vali_loss 0.719697
epoch 315 ; train_acc 0.841986 , train_loss 0.621006 ; vali_acc 0.766277 , vali_loss 0.722564
epoch 320 ; train_acc 0.843799 , train_loss 0.621239 ; vali_acc 0.763773 , vali_loss 0.720636
epoch 325 ; train_acc 0.843195 , train_loss 0.620624 ; vali_acc 0.760434 , vali_loss 0.720067
epoch 330 ; train_acc 0.843446 , train_loss 0.618851 ; vali_acc 0.766277 , vali_loss 0.719338
epoch 335 ; train_acc 0.844604 , train_loss 0.621372 ; vali_acc 0.765442 , vali_loss 0.724163
epoch 340 ; train_acc 0.845259 , train_loss 0.618874 ; vali_acc 0.767947 , vali_loss 0.722546
epoch 345 ; train_acc 0.843295 , train_loss 0.620956 ; vali_acc 0.768781 , vali_loss 0.722321
epoch 350 ; train_acc 0.84536 , train_loss 0.617796 ; vali_acc 0.767947 , vali_loss 0.720128
epoch 355 ; train_acc 0.845007 , train_loss 0.614939 ; vali_acc 0.762104 , vali_loss 0.71798
epoch 360 ; train_acc 0.845309 , train_loss 0.614773 ; vali_acc 0.764608 , vali_loss 0.717111
epoch 365 ; train_acc 0.844302 , train_loss 0.616773 ; vali_acc 0.763773 , vali_loss 0.719391
epoch 370 ; train_acc 0.846971 , train_loss 0.620551 ; vali_acc 0.768781 , vali_loss 0.722957
epoch 375 ; train_acc 0.843899 , train_loss 0.610905 ; vali_acc 0.75793 , vali_loss 0.714032
epoch 380 ; train_acc 0.843799 , train_loss 0.615873 ; vali_acc 0.760434 , vali_loss 0.718232
epoch 385 ; train_acc 0.844705 , train_loss 0.614543 ; vali_acc 0.762104 , vali_loss 0.716086
epoch 390 ; train_acc 0.845259 , train_loss 0.613743 ; vali_acc 0.75793 , vali_loss 0.717154
epoch 395 ; train_acc 0.845158 , train_loss 0.617799 ; vali_acc 0.762938 , vali_loss 0.719718
epoch 400 ; train_acc 0.845964 , train_loss 0.61345 ; vali_acc 0.764608 , vali_loss 0.717248
epoch 405 ; train_acc 0.84818 , train_loss 0.619233 ; vali_acc 0.770451 , vali_loss 0.723054
epoch 410 ; train_acc 0.847626 , train_loss 0.612642 ; vali_acc 0.762104 , vali_loss 0.717994
epoch 415 ; train_acc 0.84818 , train_loss 0.617491 ; vali_acc 0.763773 , vali_loss 0.722122
epoch 420 ; train_acc 0.847072 , train_loss 0.610962 ; vali_acc 0.761269 , vali_loss 0.715126
epoch 425 ; train_acc 0.847424 , train_loss 0.614552 ; vali_acc 0.759599 , vali_loss 0.719687
epoch 430 ; train_acc 0.848532 , train_loss 0.613787 ; vali_acc 0.764608 , vali_loss 0.718814
epoch 435 ; train_acc 0.848029 , train_loss 0.613105 ; vali_acc 0.761269 , vali_loss 0.719702
epoch 440 ; train_acc 0.847475 , train_loss 0.614137 ; vali_acc 0.764608 , vali_loss 0.71925
epoch 445 ; train_acc 0.848885 , train_loss 0.613959 ; vali_acc 0.768781 , vali_loss 0.720279
epoch 450 ; train_acc 0.84828 , train_loss 0.612196 ; vali_acc 0.766277 , vali_loss 0.71838
epoch 455 ; train_acc 0.847878 , train_loss 0.609882 ; vali_acc 0.762938 , vali_loss 0.715073
epoch 460 ; train_acc 0.849237 , train_loss 0.614472 ; vali_acc 0.767112 , vali_loss 0.720424
epoch 465 ; train_acc 0.848734 , train_loss 0.612112 ; vali_acc 0.763773 , vali_loss 0.718549
epoch 470 ; train_acc 0.84687 , train_loss 0.610077 ; vali_acc 0.760434 , vali_loss 0.716271
epoch 475 ; train_acc 0.849086 , train_loss 0.612082 ; vali_acc 0.766277 , vali_loss 0.719128
epoch 480 ; train_acc 0.849086 , train_loss 0.614634 ; vali_acc 0.766277 , vali_loss 0.720026
epoch 485 ; train_acc 0.849086 , train_loss 0.613859 ; vali_acc 0.764608 , vali_loss 0.721492
epoch 490 ; train_acc 0.848734 , train_loss 0.612043 ; vali_acc 0.765442 , vali_loss 0.718243
epoch 495 ; train_acc 0.848935 , train_loss 0.61117 ; vali_acc 0.765442 , vali_loss 0.71713
test_acc 0.773148 , test_loss 0.681599
raw test acc %g 0.43707742639
Save predict result in resultcnn_wav_0.txt
total time 235.49 s
