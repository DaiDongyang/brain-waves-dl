nohup: ignoring input
2018-01-19 17:20:28.136266: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.797
pciBusID: 0000:83:00.0
totalMemory: 7.92GiB freeMemory: 7.80GiB
2018-01-19 17:20:28.136326: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:83:00.0, compute capability: 6.1)
id_str = 'cnn_rnn_3'

is_log_cfg = True

visible_device = '3'

batch_size = 256

loop_epoch_nums = [100, 100, 100, 100, 100]

learning_rates = [0.1, 0.05, 0.02, 0.01, 0.005]

log_epoch_num = 5

learning_rate = 0.05

loss_weights = [1, 1, 1]

dropout_probs = [1, 0.2, 0.5]

origin_d = 200

loss_type = 0

only_run_final_test = False

final_result_txt = 'result' + id_str + '.txt'

tvt_params_pickle_name = './pickles/tvt_params.pickle'

is_train = True

is_restore = False

restore_file = ''

restart_epoch_i = 0

persist_checkpoint_interval = 1000

persist_checkpoint_file = 'p-my-model/p-my-model' + id_str + '_'

gt_pickle = './pickles/gt_' + id_str + '.pickle'

pr_pickle = './pickles/pr_' + id_str + '.pickle'

classes = [1, 2, 3]

reduce_dim = 200

is_fft = True

fft_clip = -1

is_filter_vali = False

is_filter_test = False

norm_flag = 1

final_test_f = './origin_data/data_n/SC4161E0.npy'

prefix_n = './origin_data/data_n'

prefix_b_even = './origin_data/data_b_even'

prefix_b_odd = './origin_data/data_b_odd'

train_n = [

vali_n = ['SC4161E0.npy', 'SC4071E0.npy', ]

test_n = ['SC4081E0.npy', 'SC4121E0.npy', 'SC4162E0.npy', 'SC4032E0.npy', 'SC4072E0.npy', ]

train_b_even = []

vali_b_even = []

test_b_even = []

train_b_odd = []

vali_b_odd = []

test_b_odd = []

train_n_fs = [os.path.join(prefix_n, i) for i in train_n]

vali_n_fs = [os.path.join(prefix_n, i) for i in vali_n]

test_n_fs = [os.path.join(prefix_n, i) for i in test_n]

train_b_e_fs = [os.path.join(prefix_b_even, i) for i in train_b_even]

vali_b_e_fs = [os.path.join(prefix_b_even, i) for i in vali_b_even]

test_b_e_fs = [os.path.join(prefix_b_even, i) for i in test_b_even]

train_b_o_fs = [os.path.join(prefix_b_odd, i) for i in train_b_odd]

vali_b_o_fs = [os.path.join(prefix_b_odd, i) for i in vali_b_odd]

test_b_o_fs = [os.path.join(prefix_b_odd, i) for i in test_b_odd]

train_fs = train_n_fs + train_b_e_fs

vali_fs = vali_n_fs + vali_b_e_fs

test_fs = test_n_fs + test_b_e_fs

conv_fs = [[10, 1, 16], [10, 16, 32]]

conv_stride = 1

conv_padding = 'SAME'

cnn_pool_type = 1

cnn_pool_padding = 'SAME'

cnn_pool_ksize = [4]

cnn_pool_strides = [2]

rnn_seq_d = 25

rnn_units_list = [128]

rnn_is_bidirection = True

fc_w_shapes = [[256, 32], [32, 3]]

epoch 0 ; train_acc 0.13611 , train_loss 1.21454 ; vali_acc 0.169449 , vali_loss 1.20029
epoch 5 ; train_acc 0.751448 , train_loss 0.786363 ; vali_acc 0.715359 , vali_loss 0.837502
epoch 10 ; train_acc 0.76595 , train_loss 0.734452 ; vali_acc 0.742905 , vali_loss 0.805839
epoch 15 ; train_acc 0.777078 , train_loss 0.747632 ; vali_acc 0.767947 , vali_loss 0.80229
epoch 20 ; train_acc 0.783574 , train_loss 0.72254 ; vali_acc 0.754591 , vali_loss 0.789428
epoch 25 ; train_acc 0.796364 , train_loss 0.714019 ; vali_acc 0.767947 , vali_loss 0.78666
epoch 30 ; train_acc 0.797623 , train_loss 0.692807 ; vali_acc 0.774624 , vali_loss 0.745541
epoch 35 ; train_acc 0.805076 , train_loss 0.69176 ; vali_acc 0.782972 , vali_loss 0.748625
epoch 40 ; train_acc 0.812377 , train_loss 0.672873 ; vali_acc 0.786311 , vali_loss 0.744828
epoch 45 ; train_acc 0.813334 , train_loss 0.663779 ; vali_acc 0.792988 , vali_loss 0.727561
epoch 50 ; train_acc 0.816104 , train_loss 0.665233 ; vali_acc 0.784641 , vali_loss 0.715522
epoch 55 ; train_acc 0.828189 , train_loss 0.644855 ; vali_acc 0.808848 , vali_loss 0.707638
epoch 60 ; train_acc 0.831965 , train_loss 0.64457 ; vali_acc 0.816361 , vali_loss 0.723222
epoch 65 ; train_acc 0.835138 , train_loss 0.629053 ; vali_acc 0.807179 , vali_loss 0.711517
epoch 70 ; train_acc 0.831764 , train_loss 0.627979 ; vali_acc 0.789649 , vali_loss 0.713906
epoch 75 ; train_acc 0.839569 , train_loss 0.614535 ; vali_acc 0.812187 , vali_loss 0.69053
epoch 80 ; train_acc 0.842137 , train_loss 0.618886 ; vali_acc 0.797162 , vali_loss 0.706207
epoch 85 ; train_acc 0.842741 , train_loss 0.608829 ; vali_acc 0.792154 , vali_loss 0.724768
epoch 90 ; train_acc 0.848532 , train_loss 0.606381 ; vali_acc 0.795492 , vali_loss 0.719389
epoch 95 ; train_acc 0.843698 , train_loss 0.598713 ; vali_acc 0.793823 , vali_loss 0.696365
epoch 100 ; train_acc 0.84964 , train_loss 0.604666 ; vali_acc 0.796327 , vali_loss 0.705748
epoch 105 ; train_acc 0.854021 , train_loss 0.593921 ; vali_acc 0.796327 , vali_loss 0.695939
epoch 110 ; train_acc 0.857797 , train_loss 0.588008 ; vali_acc 0.792154 , vali_loss 0.694152
epoch 115 ; train_acc 0.861071 , train_loss 0.58031 ; vali_acc 0.789649 , vali_loss 0.697498
epoch 120 ; train_acc 0.863437 , train_loss 0.577173 ; vali_acc 0.78798 , vali_loss 0.700541
epoch 125 ; train_acc 0.8652 , train_loss 0.572978 ; vali_acc 0.788815 , vali_loss 0.695897
epoch 130 ; train_acc 0.864898 , train_loss 0.560867 ; vali_acc 0.787145 , vali_loss 0.685375
epoch 135 ; train_acc 0.866106 , train_loss 0.57559 ; vali_acc 0.791319 , vali_loss 0.691992
epoch 140 ; train_acc 0.872098 , train_loss 0.55453 ; vali_acc 0.782972 , vali_loss 0.688759
epoch 145 ; train_acc 0.871343 , train_loss 0.552518 ; vali_acc 0.777129 , vali_loss 0.688653
epoch 150 ; train_acc 0.869933 , train_loss 0.556407 ; vali_acc 0.776294 , vali_loss 0.693789
epoch 155 ; train_acc 0.875019 , train_loss 0.555386 ; vali_acc 0.77379 , vali_loss 0.698114
epoch 160 ; train_acc 0.86671 , train_loss 0.565426 ; vali_acc 0.767947 , vali_loss 0.708138
epoch 165 ; train_acc 0.874918 , train_loss 0.558452 ; vali_acc 0.780467 , vali_loss 0.698503
epoch 170 ; train_acc 0.869983 , train_loss 0.561971 ; vali_acc 0.774624 , vali_loss 0.698881
epoch 175 ; train_acc 0.873055 , train_loss 0.55364 ; vali_acc 0.766277 , vali_loss 0.702458
epoch 180 ; train_acc 0.88091 , train_loss 0.550426 ; vali_acc 0.767947 , vali_loss 0.708728
epoch 185 ; train_acc 0.873508 , train_loss 0.540568 ; vali_acc 0.780467 , vali_loss 0.676153
epoch 190 ; train_acc 0.883982 , train_loss 0.536378 ; vali_acc 0.777129 , vali_loss 0.686478
epoch 195 ; train_acc 0.8724 , train_loss 0.543427 ; vali_acc 0.755426 , vali_loss 0.703354
epoch 200 ; train_acc 0.886701 , train_loss 0.521717 ; vali_acc 0.769616 , vali_loss 0.688425
epoch 205 ; train_acc 0.890428 , train_loss 0.529843 ; vali_acc 0.769616 , vali_loss 0.693808
epoch 210 ; train_acc 0.889723 , train_loss 0.519021 ; vali_acc 0.775459 , vali_loss 0.682979
epoch 215 ; train_acc 0.888313 , train_loss 0.51424 ; vali_acc 0.778798 , vali_loss 0.676831
epoch 220 ; train_acc 0.890226 , train_loss 0.509619 ; vali_acc 0.776294 , vali_loss 0.67577
epoch 225 ; train_acc 0.891535 , train_loss 0.511302 ; vali_acc 0.771285 , vali_loss 0.682808
epoch 230 ; train_acc 0.890428 , train_loss 0.507831 ; vali_acc 0.782137 , vali_loss 0.674175
epoch 235 ; train_acc 0.891787 , train_loss 0.508986 ; vali_acc 0.779633 , vali_loss 0.682032
epoch 240 ; train_acc 0.895664 , train_loss 0.50606 ; vali_acc 0.779633 , vali_loss 0.680505
epoch 245 ; train_acc 0.89506 , train_loss 0.503808 ; vali_acc 0.776294 , vali_loss 0.680262
epoch 250 ; train_acc 0.895513 , train_loss 0.50322 ; vali_acc 0.765442 , vali_loss 0.687204
epoch 255 ; train_acc 0.896168 , train_loss 0.493341 ; vali_acc 0.776294 , vali_loss 0.675704
epoch 260 ; train_acc 0.899794 , train_loss 0.495956 ; vali_acc 0.77212 , vali_loss 0.68064
epoch 265 ; train_acc 0.898786 , train_loss 0.489895 ; vali_acc 0.762104 , vali_loss 0.687022
epoch 270 ; train_acc 0.900952 , train_loss 0.491481 ; vali_acc 0.75626 , vali_loss 0.699575
epoch 275 ; train_acc 0.900247 , train_loss 0.488977 ; vali_acc 0.752922 , vali_loss 0.696132
epoch 280 ; train_acc 0.900801 , train_loss 0.489129 ; vali_acc 0.768781 , vali_loss 0.686652
epoch 285 ; train_acc 0.901153 , train_loss 0.491787 ; vali_acc 0.762938 , vali_loss 0.690947
epoch 290 ; train_acc 0.897578 , train_loss 0.485034 ; vali_acc 0.764608 , vali_loss 0.683922
epoch 295 ; train_acc 0.904225 , train_loss 0.479612 ; vali_acc 0.767947 , vali_loss 0.686009
epoch 300 ; train_acc 0.896118 , train_loss 0.479656 ; vali_acc 0.775459 , vali_loss 0.669535
epoch 305 ; train_acc 0.905886 , train_loss 0.474079 ; vali_acc 0.775459 , vali_loss 0.678783
epoch 310 ; train_acc 0.907699 , train_loss 0.473928 ; vali_acc 0.762104 , vali_loss 0.687887
epoch 315 ; train_acc 0.910066 , train_loss 0.466688 ; vali_acc 0.762104 , vali_loss 0.685144
epoch 320 ; train_acc 0.906843 , train_loss 0.468032 ; vali_acc 0.77379 , vali_loss 0.672273
epoch 325 ; train_acc 0.905333 , train_loss 0.471276 ; vali_acc 0.764608 , vali_loss 0.683581
epoch 330 ; train_acc 0.909109 , train_loss 0.466954 ; vali_acc 0.767112 , vali_loss 0.683134
epoch 335 ; train_acc 0.911627 , train_loss 0.466377 ; vali_acc 0.771285 , vali_loss 0.68309
epoch 340 ; train_acc 0.908807 , train_loss 0.465444 ; vali_acc 0.766277 , vali_loss 0.683602
epoch 345 ; train_acc 0.909663 , train_loss 0.465455 ; vali_acc 0.75793 , vali_loss 0.688542
epoch 350 ; train_acc 0.911325 , train_loss 0.462933 ; vali_acc 0.767112 , vali_loss 0.684809
epoch 355 ; train_acc 0.91057 , train_loss 0.458995 ; vali_acc 0.77379 , vali_loss 0.678716
epoch 360 ; train_acc 0.910771 , train_loss 0.461607 ; vali_acc 0.772955 , vali_loss 0.679352
epoch 365 ; train_acc 0.913138 , train_loss 0.459621 ; vali_acc 0.764608 , vali_loss 0.687054
epoch 370 ; train_acc 0.91062 , train_loss 0.460181 ; vali_acc 0.765442 , vali_loss 0.686539
epoch 375 ; train_acc 0.913893 , train_loss 0.455625 ; vali_acc 0.775459 , vali_loss 0.682025
epoch 380 ; train_acc 0.911627 , train_loss 0.452573 ; vali_acc 0.771285 , vali_loss 0.675411
epoch 385 ; train_acc 0.915051 , train_loss 0.455831 ; vali_acc 0.771285 , vali_loss 0.682895
epoch 390 ; train_acc 0.914245 , train_loss 0.45033 ; vali_acc 0.760434 , vali_loss 0.687642
epoch 395 ; train_acc 0.899794 , train_loss 0.47423 ; vali_acc 0.77212 , vali_loss 0.676318
epoch 400 ; train_acc 0.917972 , train_loss 0.449218 ; vali_acc 0.764608 , vali_loss 0.691874
epoch 405 ; train_acc 0.917569 , train_loss 0.448784 ; vali_acc 0.766277 , vali_loss 0.693737
epoch 410 ; train_acc 0.918576 , train_loss 0.450852 ; vali_acc 0.766277 , vali_loss 0.693983
epoch 415 ; train_acc 0.918878 , train_loss 0.445417 ; vali_acc 0.765442 , vali_loss 0.691099
epoch 420 ; train_acc 0.919583 , train_loss 0.445266 ; vali_acc 0.765442 , vali_loss 0.691085
epoch 425 ; train_acc 0.919734 , train_loss 0.442014 ; vali_acc 0.760434 , vali_loss 0.691307
epoch 430 ; train_acc 0.918324 , train_loss 0.442533 ; vali_acc 0.769616 , vali_loss 0.682272
epoch 435 ; train_acc 0.919029 , train_loss 0.441913 ; vali_acc 0.765442 , vali_loss 0.690196
epoch 440 ; train_acc 0.919432 , train_loss 0.441806 ; vali_acc 0.765442 , vali_loss 0.693613
epoch 445 ; train_acc 0.920641 , train_loss 0.438349 ; vali_acc 0.762104 , vali_loss 0.691144
epoch 450 ; train_acc 0.919835 , train_loss 0.43834 ; vali_acc 0.759599 , vali_loss 0.69716
epoch 455 ; train_acc 0.921245 , train_loss 0.437447 ; vali_acc 0.762938 , vali_loss 0.69146
epoch 460 ; train_acc 0.920087 , train_loss 0.438942 ; vali_acc 0.767112 , vali_loss 0.689594
epoch 465 ; train_acc 0.920489 , train_loss 0.442597 ; vali_acc 0.760434 , vali_loss 0.69405
epoch 470 ; train_acc 0.920087 , train_loss 0.43823 ; vali_acc 0.761269 , vali_loss 0.692752
epoch 475 ; train_acc 0.921094 , train_loss 0.442585 ; vali_acc 0.759599 , vali_loss 0.698968
epoch 480 ; train_acc 0.918677 , train_loss 0.441097 ; vali_acc 0.769616 , vali_loss 0.686438
epoch 485 ; train_acc 0.921245 , train_loss 0.433766 ; vali_acc 0.759599 , vali_loss 0.691945
epoch 490 ; train_acc 0.920842 , train_loss 0.43678 ; vali_acc 0.761269 , vali_loss 0.696473
epoch 495 ; train_acc 0.920943 , train_loss 0.437818 ; vali_acc 0.755426 , vali_loss 0.699155
test_acc 0.784336 , test_loss 0.688946
raw test acc %g 0.443402399128
Save predict result in resultcnn_rnn_3.txt
total time 3814.61 s
