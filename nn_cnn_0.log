nohup: ignoring input
2018-01-19 17:07:24.784540: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.797
pciBusID: 0000:02:00.0
totalMemory: 7.92GiB freeMemory: 7.80GiB
2018-01-19 17:07:24.784593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:02:00.0, compute capability: 6.1)
id_str = 'cnn_0'

is_log_cfg = True

visible_device = '0'

batch_size = 256

loop_epoch_nums = [100, 100, 100, 100, 100]

learning_rates = [0.1, 0.05, 0.02, 0.01, 0.005]

log_epoch_num = 5

learning_rate = 0.05

loss_weights = [1, 1, 1]

dropout_probs = [1, 0.2, 0.5]

origin_d = 1500

loss_type = 0

only_run_final_test = False

final_result_txt = 'result.txt'

tvt_params_pickle_name = './pickles/tvt_params.pickle'

is_train = True

is_restore = False

restore_file = ''

restart_epoch_i = 0

persist_checkpoint_interval = 1000

persist_checkpoint_file = 'p-my-model/p-my-model' + id_str + '_'

gt_pickle = './pickles/gt_' + id_str + '.pickle'

pr_pickle = './pickles/pr_' + id_str + '.pickle'

classes = [1, 2, 3]

reduce_dim = 200

is_fft = True

fft_clip = -1

is_filter_vali = False

is_filter_test = False

norm_flag = 1

final_test_f = './origin_data/data_n/SC4161E0.npy'

prefix_n = './origin_data/data_n'

prefix_b_even = './origin_data/data_b_even'

prefix_b_odd = './origin_data/data_b_odd'

train_n = [

vali_n = ['SC4161E0.npy', 'SC4071E0.npy', ]

test_n = ['SC4081E0.npy', 'SC4121E0.npy', 'SC4162E0.npy', 'SC4032E0.npy', 'SC4072E0.npy', ]

train_b_even = []

vali_b_even = []

test_b_even = []

train_b_odd = []

vali_b_odd = []

test_b_odd = []

train_n_fs = [os.path.join(prefix_n, i) for i in train_n]

vali_n_fs = [os.path.join(prefix_n, i) for i in vali_n]

test_n_fs = [os.path.join(prefix_n, i) for i in test_n]

train_b_e_fs = [os.path.join(prefix_b_even, i) for i in train_b_even]

vali_b_e_fs = [os.path.join(prefix_b_even, i) for i in vali_b_even]

test_b_e_fs = [os.path.join(prefix_b_even, i) for i in test_b_even]

train_b_o_fs = [os.path.join(prefix_b_odd, i) for i in train_b_odd]

vali_b_o_fs = [os.path.join(prefix_b_odd, i) for i in vali_b_odd]

test_b_o_fs = [os.path.join(prefix_b_odd, i) for i in test_b_odd]

train_fs = train_n_fs + train_b_e_fs

vali_fs = vali_n_fs + vali_b_e_fs

test_fs = test_n_fs + test_b_e_fs

conv_fs = [[10, 1, 16], [10, 16, 32]]

conv_stride = 1

conv_padding = 'SAME'

cnn_pool_type = 1

cnn_pool_padding = 'SAME'

cnn_pool_ksize = [4]

cnn_pool_strides = [2]

rnn_seq_d = 25

rnn_units_list = []

rnn_is_bidirection = True

fc_w_shapes = [[int(1500*32/4), 64], [64, 3]]

epoch 0 ; train_acc 0.494033 , train_loss 1.03134 ; vali_acc 0.25626 , vali_loss 1.14872
epoch 5 ; train_acc 0.815499 , train_loss 0.614156 ; vali_acc 0.759599 , vali_loss 0.595433
epoch 10 ; train_acc 0.838058 , train_loss 0.567641 ; vali_acc 0.808848 , vali_loss 0.557889
epoch 15 ; train_acc 0.846266 , train_loss 0.549504 ; vali_acc 0.797162 , vali_loss 0.548719
epoch 20 ; train_acc 0.857596 , train_loss 0.510487 ; vali_acc 0.819699 , vali_loss 0.512888
epoch 25 ; train_acc 0.859812 , train_loss 0.512317 ; vali_acc 0.822204 , vali_loss 0.513033
epoch 30 ; train_acc 0.864092 , train_loss 0.509227 ; vali_acc 0.838898 , vali_loss 0.493411
epoch 35 ; train_acc 0.862078 , train_loss 0.496369 ; vali_acc 0.834725 , vali_loss 0.495641
epoch 40 ; train_acc 0.867063 , train_loss 0.504269 ; vali_acc 0.839733 , vali_loss 0.489887
epoch 45 ; train_acc 0.866056 , train_loss 0.500304 ; vali_acc 0.824708 , vali_loss 0.507607
epoch 50 ; train_acc 0.871091 , train_loss 0.499086 ; vali_acc 0.840568 , vali_loss 0.488478
epoch 55 ; train_acc 0.871242 , train_loss 0.494072 ; vali_acc 0.848915 , vali_loss 0.47719
epoch 60 ; train_acc 0.872803 , train_loss 0.496302 ; vali_acc 0.843072 , vali_loss 0.481722
epoch 65 ; train_acc 0.870638 , train_loss 0.472614 ; vali_acc 0.845576 , vali_loss 0.46314
epoch 70 ; train_acc 0.868775 , train_loss 0.494686 ; vali_acc 0.846411 , vali_loss 0.471163
epoch 75 ; train_acc 0.874012 , train_loss 0.482764 ; vali_acc 0.839733 , vali_loss 0.484347
epoch 80 ; train_acc 0.875371 , train_loss 0.470487 ; vali_acc 0.843907 , vali_loss 0.466408
epoch 85 ; train_acc 0.875321 , train_loss 0.468781 ; vali_acc 0.844741 , vali_loss 0.470224
epoch 90 ; train_acc 0.872501 , train_loss 0.494901 ; vali_acc 0.850584 , vali_loss 0.469465
epoch 95 ; train_acc 0.877486 , train_loss 0.471092 ; vali_acc 0.83389 , vali_loss 0.476996
epoch 100 ; train_acc 0.87804 , train_loss 0.462762 ; vali_acc 0.838898 , vali_loss 0.476232
epoch 105 ; train_acc 0.88081 , train_loss 0.467614 ; vali_acc 0.84975 , vali_loss 0.469887
epoch 110 ; train_acc 0.880508 , train_loss 0.461056 ; vali_acc 0.843907 , vali_loss 0.465813
epoch 115 ; train_acc 0.881414 , train_loss 0.463566 ; vali_acc 0.839733 , vali_loss 0.469408
epoch 120 ; train_acc 0.881313 , train_loss 0.455536 ; vali_acc 0.847245 , vali_loss 0.457677
epoch 125 ; train_acc 0.88232 , train_loss 0.450087 ; vali_acc 0.847245 , vali_loss 0.45776
epoch 130 ; train_acc 0.883781 , train_loss 0.459514 ; vali_acc 0.841402 , vali_loss 0.465889
epoch 135 ; train_acc 0.884486 , train_loss 0.448972 ; vali_acc 0.843072 , vali_loss 0.466835
epoch 140 ; train_acc 0.882622 , train_loss 0.457306 ; vali_acc 0.845576 , vali_loss 0.453994
epoch 145 ; train_acc 0.882874 , train_loss 0.455924 ; vali_acc 0.837229 , vali_loss 0.469596
epoch 150 ; train_acc 0.88504 , train_loss 0.457688 ; vali_acc 0.843072 , vali_loss 0.465734
epoch 155 ; train_acc 0.884385 , train_loss 0.463035 ; vali_acc 0.836394 , vali_loss 0.472255
epoch 160 ; train_acc 0.885946 , train_loss 0.446933 ; vali_acc 0.84808 , vali_loss 0.453728
epoch 165 ; train_acc 0.886802 , train_loss 0.446555 ; vali_acc 0.847245 , vali_loss 0.456565
epoch 170 ; train_acc 0.886399 , train_loss 0.443062 ; vali_acc 0.847245 , vali_loss 0.459369
epoch 175 ; train_acc 0.886298 , train_loss 0.447215 ; vali_acc 0.842237 , vali_loss 0.464592
epoch 180 ; train_acc 0.887809 , train_loss 0.455748 ; vali_acc 0.843072 , vali_loss 0.465597
epoch 185 ; train_acc 0.889068 , train_loss 0.445334 ; vali_acc 0.840568 , vali_loss 0.466764
epoch 190 ; train_acc 0.888464 , train_loss 0.440828 ; vali_acc 0.847245 , vali_loss 0.457158
epoch 195 ; train_acc 0.888867 , train_loss 0.436617 ; vali_acc 0.845576 , vali_loss 0.459491
epoch 200 ; train_acc 0.890125 , train_loss 0.439768 ; vali_acc 0.848915 , vali_loss 0.46318
epoch 205 ; train_acc 0.891284 , train_loss 0.437634 ; vali_acc 0.844741 , vali_loss 0.456256
epoch 210 ; train_acc 0.891636 , train_loss 0.435662 ; vali_acc 0.851419 , vali_loss 0.450866
epoch 215 ; train_acc 0.892945 , train_loss 0.436875 ; vali_acc 0.845576 , vali_loss 0.453998
epoch 220 ; train_acc 0.893046 , train_loss 0.430829 ; vali_acc 0.843072 , vali_loss 0.462575
epoch 225 ; train_acc 0.893902 , train_loss 0.428362 ; vali_acc 0.844741 , vali_loss 0.457203
epoch 230 ; train_acc 0.893147 , train_loss 0.430963 ; vali_acc 0.84808 , vali_loss 0.455744
epoch 235 ; train_acc 0.894355 , train_loss 0.427318 ; vali_acc 0.845576 , vali_loss 0.461189
epoch 240 ; train_acc 0.894053 , train_loss 0.427479 ; vali_acc 0.847245 , vali_loss 0.45543
epoch 245 ; train_acc 0.89501 , train_loss 0.434534 ; vali_acc 0.843072 , vali_loss 0.462486
epoch 250 ; train_acc 0.894003 , train_loss 0.42991 ; vali_acc 0.842237 , vali_loss 0.457352
epoch 255 ; train_acc 0.894758 , train_loss 0.430053 ; vali_acc 0.836394 , vali_loss 0.466797
epoch 260 ; train_acc 0.895262 , train_loss 0.428076 ; vali_acc 0.847245 , vali_loss 0.454008
epoch 265 ; train_acc 0.895362 , train_loss 0.424988 ; vali_acc 0.848915 , vali_loss 0.453334
epoch 270 ; train_acc 0.896319 , train_loss 0.425467 ; vali_acc 0.84808 , vali_loss 0.461167
epoch 275 ; train_acc 0.896168 , train_loss 0.431048 ; vali_acc 0.838898 , vali_loss 0.468904
epoch 280 ; train_acc 0.896168 , train_loss 0.428654 ; vali_acc 0.844741 , vali_loss 0.463605
epoch 285 ; train_acc 0.897175 , train_loss 0.423827 ; vali_acc 0.842237 , vali_loss 0.460348
epoch 290 ; train_acc 0.89783 , train_loss 0.423215 ; vali_acc 0.847245 , vali_loss 0.459196
epoch 295 ; train_acc 0.89642 , train_loss 0.425416 ; vali_acc 0.833055 , vali_loss 0.469227
epoch 300 ; train_acc 0.898182 , train_loss 0.424623 ; vali_acc 0.846411 , vali_loss 0.45779
epoch 305 ; train_acc 0.898081 , train_loss 0.426105 ; vali_acc 0.840568 , vali_loss 0.464516
epoch 310 ; train_acc 0.898031 , train_loss 0.416119 ; vali_acc 0.842237 , vali_loss 0.462138
epoch 315 ; train_acc 0.89783 , train_loss 0.421656 ; vali_acc 0.83389 , vali_loss 0.469255
epoch 320 ; train_acc 0.89934 , train_loss 0.42267 ; vali_acc 0.836394 , vali_loss 0.466325
epoch 325 ; train_acc 0.899542 , train_loss 0.420997 ; vali_acc 0.844741 , vali_loss 0.459672
epoch 330 ; train_acc 0.899189 , train_loss 0.414601 ; vali_acc 0.838898 , vali_loss 0.464181
epoch 335 ; train_acc 0.899743 , train_loss 0.421259 ; vali_acc 0.844741 , vali_loss 0.462298
epoch 340 ; train_acc 0.899844 , train_loss 0.419576 ; vali_acc 0.837229 , vali_loss 0.465801
epoch 345 ; train_acc 0.900347 , train_loss 0.417648 ; vali_acc 0.837229 , vali_loss 0.465326
epoch 350 ; train_acc 0.900146 , train_loss 0.414459 ; vali_acc 0.847245 , vali_loss 0.459137
epoch 355 ; train_acc 0.900499 , train_loss 0.417038 ; vali_acc 0.845576 , vali_loss 0.461128
epoch 360 ; train_acc 0.901556 , train_loss 0.413688 ; vali_acc 0.845576 , vali_loss 0.458826
epoch 365 ; train_acc 0.901052 , train_loss 0.415736 ; vali_acc 0.846411 , vali_loss 0.45867
epoch 370 ; train_acc 0.900952 , train_loss 0.417384 ; vali_acc 0.838898 , vali_loss 0.466759
epoch 375 ; train_acc 0.901808 , train_loss 0.412303 ; vali_acc 0.846411 , vali_loss 0.459177
epoch 380 ; train_acc 0.901455 , train_loss 0.415718 ; vali_acc 0.846411 , vali_loss 0.458306
epoch 385 ; train_acc 0.902513 , train_loss 0.412574 ; vali_acc 0.84808 , vali_loss 0.454267
epoch 390 ; train_acc 0.901757 , train_loss 0.411171 ; vali_acc 0.843907 , vali_loss 0.46076
epoch 395 ; train_acc 0.901808 , train_loss 0.413373 ; vali_acc 0.844741 , vali_loss 0.457085
epoch 400 ; train_acc 0.901707 , train_loss 0.41335 ; vali_acc 0.844741 , vali_loss 0.458839
epoch 405 ; train_acc 0.902462 , train_loss 0.410225 ; vali_acc 0.843072 , vali_loss 0.461181
epoch 410 ; train_acc 0.901304 , train_loss 0.414935 ; vali_acc 0.836394 , vali_loss 0.46709
epoch 415 ; train_acc 0.902261 , train_loss 0.41117 ; vali_acc 0.837229 , vali_loss 0.465349
epoch 420 ; train_acc 0.902613 , train_loss 0.410593 ; vali_acc 0.838063 , vali_loss 0.463221
epoch 425 ; train_acc 0.903268 , train_loss 0.411738 ; vali_acc 0.839733 , vali_loss 0.463151
epoch 430 ; train_acc 0.903117 , train_loss 0.415672 ; vali_acc 0.838063 , vali_loss 0.464903
epoch 435 ; train_acc 0.903117 , train_loss 0.413614 ; vali_acc 0.840568 , vali_loss 0.464441
epoch 440 ; train_acc 0.902714 , train_loss 0.411509 ; vali_acc 0.838063 , vali_loss 0.461671
epoch 445 ; train_acc 0.903016 , train_loss 0.408948 ; vali_acc 0.839733 , vali_loss 0.461499
epoch 450 ; train_acc 0.903469 , train_loss 0.411399 ; vali_acc 0.840568 , vali_loss 0.463064
epoch 455 ; train_acc 0.903721 , train_loss 0.409602 ; vali_acc 0.843907 , vali_loss 0.458838
epoch 460 ; train_acc 0.903822 , train_loss 0.411857 ; vali_acc 0.843072 , vali_loss 0.459836
epoch 465 ; train_acc 0.90352 , train_loss 0.410309 ; vali_acc 0.838898 , vali_loss 0.46385
epoch 470 ; train_acc 0.901707 , train_loss 0.411481 ; vali_acc 0.83222 , vali_loss 0.47046
epoch 475 ; train_acc 0.903872 , train_loss 0.406727 ; vali_acc 0.842237 , vali_loss 0.461572
epoch 480 ; train_acc 0.903218 , train_loss 0.41026 ; vali_acc 0.836394 , vali_loss 0.465373
epoch 485 ; train_acc 0.903067 , train_loss 0.406717 ; vali_acc 0.838063 , vali_loss 0.463913
epoch 490 ; train_acc 0.904124 , train_loss 0.404557 ; vali_acc 0.843072 , vali_loss 0.460611
epoch 495 ; train_acc 0.905282 , train_loss 0.407405 ; vali_acc 0.843907 , vali_loss 0.458626
test_acc 0.809799 , test_loss 0.553354
raw test acc %g 0.457797164667
Save predict result in result.txt
total time 897.107 s
